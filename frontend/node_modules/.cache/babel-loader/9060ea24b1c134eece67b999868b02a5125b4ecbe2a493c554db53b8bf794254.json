{"ast":null,"code":"import { dispatch } from \"d3-dispatch\";\nimport { dragDisable, dragEnable } from \"d3-drag\";\nimport { interpolate } from \"d3-interpolate\";\nimport { customEvent, event, mouse, select } from \"d3-selection\";\nimport { interrupt } from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, { nopropagation } from \"./noevent\";\nvar MODE_DRAG = {\n    name: \"drag\"\n  },\n  MODE_SPACE = {\n    name: \"space\"\n  },\n  MODE_HANDLE = {\n    name: \"handle\"\n  },\n  MODE_CENTER = {\n    name: \"center\"\n  };\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function (x, e) {\n    return x && [[x[0], e[0][1]], [x[1], e[1][1]]];\n  },\n  output: function (xy) {\n    return xy && [xy[0][0], xy[1][0]];\n  }\n};\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function (y, e) {\n    return y && [[e[0][0], y[0]], [e[1][0], y[1]]];\n  },\n  output: function (xy) {\n    return xy && [xy[0][1], xy[1][1]];\n  }\n};\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function (xy) {\n    return xy;\n  },\n  output: function (xy) {\n    return xy;\n  }\n};\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\nfunction type(t) {\n  return {\n    type: t\n  };\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0] || extent[0][1] === extent[1][1];\n}\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\nexport function brushX() {\n  return brush(X);\n}\nexport function brushY() {\n  return brush(Y);\n}\nexport default function () {\n  return brush(XY);\n}\nfunction brush(dim) {\n  var extent = defaultExtent,\n    filter = defaultFilter,\n    listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n    handleSize = 6,\n    touchending;\n  function brush(group) {\n    var overlay = group.property(\"__brush\", initialize).selectAll(\".overlay\").data([type(\"overlay\")]);\n    overlay.enter().append(\"rect\").attr(\"class\", \"overlay\").attr(\"pointer-events\", \"all\").attr(\"cursor\", cursors.overlay).merge(overlay).each(function () {\n      var extent = local(this).extent;\n      select(this).attr(\"x\", extent[0][0]).attr(\"y\", extent[0][1]).attr(\"width\", extent[1][0] - extent[0][0]).attr(\"height\", extent[1][1] - extent[0][1]);\n    });\n    group.selectAll(\".selection\").data([type(\"selection\")]).enter().append(\"rect\").attr(\"class\", \"selection\").attr(\"cursor\", cursors.selection).attr(\"fill\", \"#777\").attr(\"fill-opacity\", 0.3).attr(\"stroke\", \"#fff\").attr(\"shape-rendering\", \"crispEdges\");\n    var handle = group.selectAll(\".handle\").data(dim.handles, function (d) {\n      return d.type;\n    });\n    handle.exit().remove();\n    handle.enter().append(\"rect\").attr(\"class\", function (d) {\n      return \"handle handle--\" + d.type;\n    }).attr(\"cursor\", function (d) {\n      return cursors[d.type];\n    });\n    group.each(redraw).attr(\"fill\", \"none\").attr(\"pointer-events\", \"all\").style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\").on(\"mousedown.brush touchstart.brush\", started);\n  }\n  brush.move = function (group, selection) {\n    if (group.selection) {\n      group.on(\"start.brush\", function () {\n        emitter(this, arguments).beforestart().start();\n      }).on(\"interrupt.brush end.brush\", function () {\n        emitter(this, arguments).end();\n      }).tween(\"brush\", function () {\n        var that = this,\n          state = that.__brush,\n          emit = emitter(that, arguments),\n          selection0 = state.selection,\n          selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n          i = interpolate(selection0, selection1);\n        function tween(t) {\n          state.selection = t === 1 && empty(selection1) ? null : i(t);\n          redraw.call(that);\n          emit.brush();\n        }\n        return selection0 && selection1 ? tween : tween(1);\n      });\n    } else {\n      group.each(function () {\n        var that = this,\n          args = arguments,\n          state = that.__brush,\n          selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n          emit = emitter(that, args).beforestart();\n        interrupt(that);\n        state.selection = selection1 == null || empty(selection1) ? null : selection1;\n        redraw.call(that);\n        emit.start().brush().end();\n      });\n    }\n  };\n  function redraw() {\n    var group = select(this),\n      selection = local(this).selection;\n    if (selection) {\n      group.selectAll(\".selection\").style(\"display\", null).attr(\"x\", selection[0][0]).attr(\"y\", selection[0][1]).attr(\"width\", selection[1][0] - selection[0][0]).attr(\"height\", selection[1][1] - selection[0][1]);\n      group.selectAll(\".handle\").style(\"display\", null).attr(\"x\", function (d) {\n        return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2;\n      }).attr(\"y\", function (d) {\n        return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2;\n      }).attr(\"width\", function (d) {\n        return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize;\n      }).attr(\"height\", function (d) {\n        return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize;\n      });\n    } else {\n      group.selectAll(\".selection,.handle\").style(\"display\", \"none\").attr(\"x\", null).attr(\"y\", null).attr(\"width\", null).attr(\"height\", null);\n    }\n  }\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n  Emitter.prototype = {\n    beforestart: function () {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function () {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function () {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function () {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function (type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n  function started() {\n    if (event.touches) {\n      if (event.changedTouches.length < event.touches.length) return noevent();\n    } else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n    var that = this,\n      type = event.target.__data__.type,\n      mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : event.altKey ? MODE_CENTER : MODE_HANDLE,\n      signX = dim === Y ? null : signsX[type],\n      signY = dim === X ? null : signsY[type],\n      state = local(that),\n      extent = state.extent,\n      selection = state.selection,\n      W = extent[0][0],\n      w0,\n      w1,\n      N = extent[0][1],\n      n0,\n      n1,\n      E = extent[1][0],\n      e0,\n      e1,\n      S = extent[1][1],\n      s0,\n      s1,\n      dx,\n      dy,\n      moving,\n      shifting = signX && signY && event.shiftKey,\n      lockX,\n      lockY,\n      point0 = mouse(that),\n      point = point0,\n      emit = emitter(that, arguments).beforestart();\n    if (type === \"overlay\") {\n      state.selection = selection = [[w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]], [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n    var group = select(that).attr(\"pointer-events\", \"none\");\n    var overlay = group.selectAll(\".overlay\").attr(\"cursor\", cursors[type]);\n    if (event.touches) {\n      group.on(\"touchmove.brush\", moved, true).on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view).on(\"keydown.brush\", keydowned, true).on(\"keyup.brush\", keyupped, true).on(\"mousemove.brush\", moved, true).on(\"mouseup.brush\", ended, true);\n      dragDisable(event.view);\n    }\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n    function move() {\n      var t;\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG:\n          {\n            if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n            if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n            break;\n          }\n        case MODE_HANDLE:\n          {\n            if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n            if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n            break;\n          }\n        case MODE_CENTER:\n          {\n            if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n            if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n            break;\n          }\n      }\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n      if (selection[0][0] !== w1 || selection[0][1] !== n1 || selection[1][0] !== e1 || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function () {\n          touchending = null;\n        }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16:\n          {\n            // SHIFT\n            shifting = signX && signY;\n            break;\n          }\n        case 18:\n          {\n            // ALT\n            if (mode === MODE_HANDLE) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n              move();\n            }\n            break;\n          }\n        case 32:\n          {\n            // SPACE; takes priority over ALT\n            if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1 - dx;else if (signX > 0) w0 = w1 - dx;\n              if (signY < 0) s0 = s1 - dy;else if (signY > 0) n0 = n1 - dy;\n              mode = MODE_SPACE;\n              overlay.attr(\"cursor\", cursors.selection);\n              move();\n            }\n            break;\n          }\n        default:\n          return;\n      }\n      noevent();\n    }\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16:\n          {\n            // SHIFT\n            if (shifting) {\n              lockX = lockY = shifting = false;\n              move();\n            }\n            break;\n          }\n        case 18:\n          {\n            // ALT\n            if (mode === MODE_CENTER) {\n              if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n              move();\n            }\n            break;\n          }\n        case 32:\n          {\n            // SPACE\n            if (mode === MODE_SPACE) {\n              if (event.altKey) {\n                if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n                if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n                mode = MODE_CENTER;\n              } else {\n                if (signX < 0) e0 = e1;else if (signX > 0) w0 = w1;\n                if (signY < 0) s0 = s1;else if (signY > 0) n0 = n1;\n                mode = MODE_HANDLE;\n              }\n              overlay.attr(\"cursor\", cursors[type]);\n              move();\n            }\n            break;\n          }\n        default:\n          return;\n      }\n      noevent();\n    }\n  }\n  function initialize() {\n    var state = this.__brush || {\n      selection: null\n    };\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n  brush.extent = function (_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n  brush.filter = function (_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n  brush.handleSize = function (_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n  brush.on = function () {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n  return brush;\n}","map":{"version":3,"names":["dispatch","dragDisable","dragEnable","interpolate","customEvent","event","mouse","select","interrupt","constant","BrushEvent","noevent","nopropagation","MODE_DRAG","name","MODE_SPACE","MODE_HANDLE","MODE_CENTER","X","handles","map","type","input","x","e","output","xy","Y","y","XY","cursors","overlay","selection","n","s","w","nw","ne","se","sw","flipX","flipY","signsX","signsY","t","defaultFilter","button","defaultExtent","svg","ownerSVGElement","width","baseVal","value","height","local","node","__brush","parentNode","empty","extent","brushSelection","state","dim","brushX","brush","brushY","filter","listeners","handleSize","touchending","group","property","initialize","selectAll","data","enter","append","attr","merge","each","handle","d","exit","remove","redraw","style","on","started","move","emitter","arguments","beforestart","start","end","tween","that","emit","selection0","selection1","apply","i","call","args","length","Emitter","active","prototype","starting","touches","changedTouches","target","__data__","mode","metaKey","altKey","signX","signY","W","w0","w1","N","n0","n1","E","e0","e1","S","s0","s1","dx","dy","moving","shifting","shiftKey","lockX","lockY","point0","point","moved","ended","view","keydowned","keyupped","point1","Math","abs","max","min","clearTimeout","setTimeout","keyCode","_"],"sources":["/Users/nithinkatla00/My-projects/Viz-project/frontend/node_modules/d3-brush/src/brush.js"],"sourcesContent":["import {dispatch} from \"d3-dispatch\";\nimport {dragDisable, dragEnable} from \"d3-drag\";\nimport {interpolate} from \"d3-interpolate\";\nimport {customEvent, event, mouse, select} from \"d3-selection\";\nimport {interrupt} from \"d3-transition\";\nimport constant from \"./constant\";\nimport BrushEvent from \"./event\";\nimport noevent, {nopropagation} from \"./noevent\";\n\nvar MODE_DRAG = {name: \"drag\"},\n    MODE_SPACE = {name: \"space\"},\n    MODE_HANDLE = {name: \"handle\"},\n    MODE_CENTER = {name: \"center\"};\n\nvar X = {\n  name: \"x\",\n  handles: [\"e\", \"w\"].map(type),\n  input: function(x, e) { return x && [[x[0], e[0][1]], [x[1], e[1][1]]]; },\n  output: function(xy) { return xy && [xy[0][0], xy[1][0]]; }\n};\n\nvar Y = {\n  name: \"y\",\n  handles: [\"n\", \"s\"].map(type),\n  input: function(y, e) { return y && [[e[0][0], y[0]], [e[1][0], y[1]]]; },\n  output: function(xy) { return xy && [xy[0][1], xy[1][1]]; }\n};\n\nvar XY = {\n  name: \"xy\",\n  handles: [\"n\", \"e\", \"s\", \"w\", \"nw\", \"ne\", \"se\", \"sw\"].map(type),\n  input: function(xy) { return xy; },\n  output: function(xy) { return xy; }\n};\n\nvar cursors = {\n  overlay: \"crosshair\",\n  selection: \"move\",\n  n: \"ns-resize\",\n  e: \"ew-resize\",\n  s: \"ns-resize\",\n  w: \"ew-resize\",\n  nw: \"nwse-resize\",\n  ne: \"nesw-resize\",\n  se: \"nwse-resize\",\n  sw: \"nesw-resize\"\n};\n\nvar flipX = {\n  e: \"w\",\n  w: \"e\",\n  nw: \"ne\",\n  ne: \"nw\",\n  se: \"sw\",\n  sw: \"se\"\n};\n\nvar flipY = {\n  n: \"s\",\n  s: \"n\",\n  nw: \"sw\",\n  ne: \"se\",\n  se: \"ne\",\n  sw: \"nw\"\n};\n\nvar signsX = {\n  overlay: +1,\n  selection: +1,\n  n: null,\n  e: +1,\n  s: null,\n  w: -1,\n  nw: -1,\n  ne: +1,\n  se: +1,\n  sw: -1\n};\n\nvar signsY = {\n  overlay: +1,\n  selection: +1,\n  n: -1,\n  e: null,\n  s: +1,\n  w: null,\n  nw: -1,\n  ne: -1,\n  se: +1,\n  sw: +1\n};\n\nfunction type(t) {\n  return {type: t};\n}\n\n// Ignore right-click, since that should open the context menu.\nfunction defaultFilter() {\n  return !event.button;\n}\n\nfunction defaultExtent() {\n  var svg = this.ownerSVGElement || this;\n  return [[0, 0], [svg.width.baseVal.value, svg.height.baseVal.value]];\n}\n\n// Like d3.local, but with the name “__brush” rather than auto-generated.\nfunction local(node) {\n  while (!node.__brush) if (!(node = node.parentNode)) return;\n  return node.__brush;\n}\n\nfunction empty(extent) {\n  return extent[0][0] === extent[1][0]\n      || extent[0][1] === extent[1][1];\n}\n\nexport function brushSelection(node) {\n  var state = node.__brush;\n  return state ? state.dim.output(state.selection) : null;\n}\n\nexport function brushX() {\n  return brush(X);\n}\n\nexport function brushY() {\n  return brush(Y);\n}\n\nexport default function() {\n  return brush(XY);\n}\n\nfunction brush(dim) {\n  var extent = defaultExtent,\n      filter = defaultFilter,\n      listeners = dispatch(brush, \"start\", \"brush\", \"end\"),\n      handleSize = 6,\n      touchending;\n\n  function brush(group) {\n    var overlay = group\n        .property(\"__brush\", initialize)\n      .selectAll(\".overlay\")\n      .data([type(\"overlay\")]);\n\n    overlay.enter().append(\"rect\")\n        .attr(\"class\", \"overlay\")\n        .attr(\"pointer-events\", \"all\")\n        .attr(\"cursor\", cursors.overlay)\n      .merge(overlay)\n        .each(function() {\n          var extent = local(this).extent;\n          select(this)\n              .attr(\"x\", extent[0][0])\n              .attr(\"y\", extent[0][1])\n              .attr(\"width\", extent[1][0] - extent[0][0])\n              .attr(\"height\", extent[1][1] - extent[0][1]);\n        });\n\n    group.selectAll(\".selection\")\n      .data([type(\"selection\")])\n      .enter().append(\"rect\")\n        .attr(\"class\", \"selection\")\n        .attr(\"cursor\", cursors.selection)\n        .attr(\"fill\", \"#777\")\n        .attr(\"fill-opacity\", 0.3)\n        .attr(\"stroke\", \"#fff\")\n        .attr(\"shape-rendering\", \"crispEdges\");\n\n    var handle = group.selectAll(\".handle\")\n      .data(dim.handles, function(d) { return d.type; });\n\n    handle.exit().remove();\n\n    handle.enter().append(\"rect\")\n        .attr(\"class\", function(d) { return \"handle handle--\" + d.type; })\n        .attr(\"cursor\", function(d) { return cursors[d.type]; });\n\n    group\n        .each(redraw)\n        .attr(\"fill\", \"none\")\n        .attr(\"pointer-events\", \"all\")\n        .style(\"-webkit-tap-highlight-color\", \"rgba(0,0,0,0)\")\n        .on(\"mousedown.brush touchstart.brush\", started);\n  }\n\n  brush.move = function(group, selection) {\n    if (group.selection) {\n      group\n          .on(\"start.brush\", function() { emitter(this, arguments).beforestart().start(); })\n          .on(\"interrupt.brush end.brush\", function() { emitter(this, arguments).end(); })\n          .tween(\"brush\", function() {\n            var that = this,\n                state = that.__brush,\n                emit = emitter(that, arguments),\n                selection0 = state.selection,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(this, arguments) : selection, state.extent),\n                i = interpolate(selection0, selection1);\n\n            function tween(t) {\n              state.selection = t === 1 && empty(selection1) ? null : i(t);\n              redraw.call(that);\n              emit.brush();\n            }\n\n            return selection0 && selection1 ? tween : tween(1);\n          });\n    } else {\n      group\n          .each(function() {\n            var that = this,\n                args = arguments,\n                state = that.__brush,\n                selection1 = dim.input(typeof selection === \"function\" ? selection.apply(that, args) : selection, state.extent),\n                emit = emitter(that, args).beforestart();\n\n            interrupt(that);\n            state.selection = selection1 == null || empty(selection1) ? null : selection1;\n            redraw.call(that);\n            emit.start().brush().end();\n          });\n    }\n  };\n\n  function redraw() {\n    var group = select(this),\n        selection = local(this).selection;\n\n    if (selection) {\n      group.selectAll(\".selection\")\n          .style(\"display\", null)\n          .attr(\"x\", selection[0][0])\n          .attr(\"y\", selection[0][1])\n          .attr(\"width\", selection[1][0] - selection[0][0])\n          .attr(\"height\", selection[1][1] - selection[0][1]);\n\n      group.selectAll(\".handle\")\n          .style(\"display\", null)\n          .attr(\"x\", function(d) { return d.type[d.type.length - 1] === \"e\" ? selection[1][0] - handleSize / 2 : selection[0][0] - handleSize / 2; })\n          .attr(\"y\", function(d) { return d.type[0] === \"s\" ? selection[1][1] - handleSize / 2 : selection[0][1] - handleSize / 2; })\n          .attr(\"width\", function(d) { return d.type === \"n\" || d.type === \"s\" ? selection[1][0] - selection[0][0] + handleSize : handleSize; })\n          .attr(\"height\", function(d) { return d.type === \"e\" || d.type === \"w\" ? selection[1][1] - selection[0][1] + handleSize : handleSize; });\n    }\n\n    else {\n      group.selectAll(\".selection,.handle\")\n          .style(\"display\", \"none\")\n          .attr(\"x\", null)\n          .attr(\"y\", null)\n          .attr(\"width\", null)\n          .attr(\"height\", null);\n    }\n  }\n\n  function emitter(that, args) {\n    return that.__brush.emitter || new Emitter(that, args);\n  }\n\n  function Emitter(that, args) {\n    this.that = that;\n    this.args = args;\n    this.state = that.__brush;\n    this.active = 0;\n  }\n\n  Emitter.prototype = {\n    beforestart: function() {\n      if (++this.active === 1) this.state.emitter = this, this.starting = true;\n      return this;\n    },\n    start: function() {\n      if (this.starting) this.starting = false, this.emit(\"start\");\n      return this;\n    },\n    brush: function() {\n      this.emit(\"brush\");\n      return this;\n    },\n    end: function() {\n      if (--this.active === 0) delete this.state.emitter, this.emit(\"end\");\n      return this;\n    },\n    emit: function(type) {\n      customEvent(new BrushEvent(brush, type, dim.output(this.state.selection)), listeners.apply, listeners, [type, this.that, this.args]);\n    }\n  };\n\n  function started() {\n    if (event.touches) { if (event.changedTouches.length < event.touches.length) return noevent(); }\n    else if (touchending) return;\n    if (!filter.apply(this, arguments)) return;\n\n    var that = this,\n        type = event.target.__data__.type,\n        mode = (event.metaKey ? type = \"overlay\" : type) === \"selection\" ? MODE_DRAG : (event.altKey ? MODE_CENTER : MODE_HANDLE),\n        signX = dim === Y ? null : signsX[type],\n        signY = dim === X ? null : signsY[type],\n        state = local(that),\n        extent = state.extent,\n        selection = state.selection,\n        W = extent[0][0], w0, w1,\n        N = extent[0][1], n0, n1,\n        E = extent[1][0], e0, e1,\n        S = extent[1][1], s0, s1,\n        dx,\n        dy,\n        moving,\n        shifting = signX && signY && event.shiftKey,\n        lockX,\n        lockY,\n        point0 = mouse(that),\n        point = point0,\n        emit = emitter(that, arguments).beforestart();\n\n    if (type === \"overlay\") {\n      state.selection = selection = [\n        [w0 = dim === Y ? W : point0[0], n0 = dim === X ? N : point0[1]],\n        [e0 = dim === Y ? E : w0, s0 = dim === X ? S : n0]\n      ];\n    } else {\n      w0 = selection[0][0];\n      n0 = selection[0][1];\n      e0 = selection[1][0];\n      s0 = selection[1][1];\n    }\n\n    w1 = w0;\n    n1 = n0;\n    e1 = e0;\n    s1 = s0;\n\n    var group = select(that)\n        .attr(\"pointer-events\", \"none\");\n\n    var overlay = group.selectAll(\".overlay\")\n        .attr(\"cursor\", cursors[type]);\n\n    if (event.touches) {\n      group\n          .on(\"touchmove.brush\", moved, true)\n          .on(\"touchend.brush touchcancel.brush\", ended, true);\n    } else {\n      var view = select(event.view)\n          .on(\"keydown.brush\", keydowned, true)\n          .on(\"keyup.brush\", keyupped, true)\n          .on(\"mousemove.brush\", moved, true)\n          .on(\"mouseup.brush\", ended, true);\n\n      dragDisable(event.view);\n    }\n\n    nopropagation();\n    interrupt(that);\n    redraw.call(that);\n    emit.start();\n\n    function moved() {\n      var point1 = mouse(that);\n      if (shifting && !lockX && !lockY) {\n        if (Math.abs(point1[0] - point[0]) > Math.abs(point1[1] - point[1])) lockY = true;\n        else lockX = true;\n      }\n      point = point1;\n      moving = true;\n      noevent();\n      move();\n    }\n\n    function move() {\n      var t;\n\n      dx = point[0] - point0[0];\n      dy = point[1] - point0[1];\n\n      switch (mode) {\n        case MODE_SPACE:\n        case MODE_DRAG: {\n          if (signX) dx = Math.max(W - w0, Math.min(E - e0, dx)), w1 = w0 + dx, e1 = e0 + dx;\n          if (signY) dy = Math.max(N - n0, Math.min(S - s0, dy)), n1 = n0 + dy, s1 = s0 + dy;\n          break;\n        }\n        case MODE_HANDLE: {\n          if (signX < 0) dx = Math.max(W - w0, Math.min(E - w0, dx)), w1 = w0 + dx, e1 = e0;\n          else if (signX > 0) dx = Math.max(W - e0, Math.min(E - e0, dx)), w1 = w0, e1 = e0 + dx;\n          if (signY < 0) dy = Math.max(N - n0, Math.min(S - n0, dy)), n1 = n0 + dy, s1 = s0;\n          else if (signY > 0) dy = Math.max(N - s0, Math.min(S - s0, dy)), n1 = n0, s1 = s0 + dy;\n          break;\n        }\n        case MODE_CENTER: {\n          if (signX) w1 = Math.max(W, Math.min(E, w0 - dx * signX)), e1 = Math.max(W, Math.min(E, e0 + dx * signX));\n          if (signY) n1 = Math.max(N, Math.min(S, n0 - dy * signY)), s1 = Math.max(N, Math.min(S, s0 + dy * signY));\n          break;\n        }\n      }\n\n      if (e1 < w1) {\n        signX *= -1;\n        t = w0, w0 = e0, e0 = t;\n        t = w1, w1 = e1, e1 = t;\n        if (type in flipX) overlay.attr(\"cursor\", cursors[type = flipX[type]]);\n      }\n\n      if (s1 < n1) {\n        signY *= -1;\n        t = n0, n0 = s0, s0 = t;\n        t = n1, n1 = s1, s1 = t;\n        if (type in flipY) overlay.attr(\"cursor\", cursors[type = flipY[type]]);\n      }\n\n      if (state.selection) selection = state.selection; // May be set by brush.move!\n      if (lockX) w1 = selection[0][0], e1 = selection[1][0];\n      if (lockY) n1 = selection[0][1], s1 = selection[1][1];\n\n      if (selection[0][0] !== w1\n          || selection[0][1] !== n1\n          || selection[1][0] !== e1\n          || selection[1][1] !== s1) {\n        state.selection = [[w1, n1], [e1, s1]];\n        redraw.call(that);\n        emit.brush();\n      }\n    }\n\n    function ended() {\n      nopropagation();\n      if (event.touches) {\n        if (event.touches.length) return;\n        if (touchending) clearTimeout(touchending);\n        touchending = setTimeout(function() { touchending = null; }, 500); // Ghost clicks are delayed!\n        group.on(\"touchmove.brush touchend.brush touchcancel.brush\", null);\n      } else {\n        dragEnable(event.view, moving);\n        view.on(\"keydown.brush keyup.brush mousemove.brush mouseup.brush\", null);\n      }\n      group.attr(\"pointer-events\", \"all\");\n      overlay.attr(\"cursor\", cursors.overlay);\n      if (state.selection) selection = state.selection; // May be set by brush.move (on start)!\n      if (empty(selection)) state.selection = null, redraw.call(that);\n      emit.end();\n    }\n\n    function keydowned() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          shifting = signX && signY;\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_HANDLE) {\n            if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n            if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n            mode = MODE_CENTER;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE; takes priority over ALT\n          if (mode === MODE_HANDLE || mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1 - dx; else if (signX > 0) w0 = w1 - dx;\n            if (signY < 0) s0 = s1 - dy; else if (signY > 0) n0 = n1 - dy;\n            mode = MODE_SPACE;\n            overlay.attr(\"cursor\", cursors.selection);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n\n    function keyupped() {\n      switch (event.keyCode) {\n        case 16: { // SHIFT\n          if (shifting) {\n            lockX = lockY = shifting = false;\n            move();\n          }\n          break;\n        }\n        case 18: { // ALT\n          if (mode === MODE_CENTER) {\n            if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n            if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n            mode = MODE_HANDLE;\n            move();\n          }\n          break;\n        }\n        case 32: { // SPACE\n          if (mode === MODE_SPACE) {\n            if (event.altKey) {\n              if (signX) e0 = e1 - dx * signX, w0 = w1 + dx * signX;\n              if (signY) s0 = s1 - dy * signY, n0 = n1 + dy * signY;\n              mode = MODE_CENTER;\n            } else {\n              if (signX < 0) e0 = e1; else if (signX > 0) w0 = w1;\n              if (signY < 0) s0 = s1; else if (signY > 0) n0 = n1;\n              mode = MODE_HANDLE;\n            }\n            overlay.attr(\"cursor\", cursors[type]);\n            move();\n          }\n          break;\n        }\n        default: return;\n      }\n      noevent();\n    }\n  }\n\n  function initialize() {\n    var state = this.__brush || {selection: null};\n    state.extent = extent.apply(this, arguments);\n    state.dim = dim;\n    return state;\n  }\n\n  brush.extent = function(_) {\n    return arguments.length ? (extent = typeof _ === \"function\" ? _ : constant([[+_[0][0], +_[0][1]], [+_[1][0], +_[1][1]]]), brush) : extent;\n  };\n\n  brush.filter = function(_) {\n    return arguments.length ? (filter = typeof _ === \"function\" ? _ : constant(!!_), brush) : filter;\n  };\n\n  brush.handleSize = function(_) {\n    return arguments.length ? (handleSize = +_, brush) : handleSize;\n  };\n\n  brush.on = function() {\n    var value = listeners.on.apply(listeners, arguments);\n    return value === listeners ? brush : value;\n  };\n\n  return brush;\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}